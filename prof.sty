\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{prof}[2014/05/17]
%%
\newcommand{\lamatiere}{Math\'ematiques\/}
%% les options supportées par mon package
%% les dimensions
\DeclareOption{a3}{%
  \PassOptionsToPackage{a3paper,body={39cm,27.7cm}}{geometry}%
}
\DeclareOption{a3paysage}{%
  \PassOptionsToPackage{a3paper,body={27.7cm,39cm}}{geometry}%
}
%%
\DeclareOption{a4}{%
  \PassOptionsToPackage{a4paper,body={18cm,27.5cm}}{geometry}%
}
%%
\DeclareOption{a5}{%
  \PassOptionsToPackage{a5paper,body={12cm,19cm}}{geometry}%
}
%%
\DeclareOption{a4paysage}{%
  \PassOptionsToPackage{a4paper,landscape,body={26.5cm,18.5cm}}{geometry}%
}
%%
\DeclareOption{a5paysage}{%
  \PassOptionsToPackage{a5paper,landscape,body={18cm,13cm}}{geometry}%
}
\DeclareOption{info}{%
  \renewcommand{\lamatiere}{Informatique\/}
}
%% enlèvement du numéro de page
\DeclareOption{unepage}{\AtEndOfPackage{\cfoot{}}}
%% style collège
\newif\if@college
\@collegefalse
\DeclareOption{college}{%
  \@collegetrue
}
%% si option inconnue
\DeclareOption*{}
\ProcessOptions
%%
%% chargement des dimensions
\RequirePackage{geometry}
%% correction des modifications faites pas geometry
\setlength{\topmargin}{-2.2cm}
\setlength{\headsep}{.2cm}
\setlength{\footskip}{6mm}
%%
%% génération aléatoire pour les entêtes d'exerices
\input random
%%
\RequirePackage{graphicx}
%%
%% on charge lualatex
\RequirePackage{ifluatex}
\ifluatex
  \RequirePackage[no-math]{fontspec}
  \RequirePackage{luatexbase}
  \RequireLuaModule{lualibs}
  \RequirePackage{metalogo}
  \RequirePackage{luacode}
  \RequirePackage{fixltx2e}
  \RequirePackage{luamplib}
  \RequirePackage{luacolor}
  %%\RequirePackage[math-style=ISO,bold-style=ISO]{unicode-math}
  \RequirePackage{unicode-math}
  \RequirePackage[unicode=true]{hyperref}
  \RequirePackage{luatexperso}
  %\setmathfont{[Asana-Math]}
  %\setmathfont[range=\mathbfit,FakeBold=2.0]{[Asana-Math]}
  %%\setmainfont{Asana Math}
  %%\setmathfont{Asana Math}
  \setmainfont[BoldFont= texgyrepagella-bold.otf ,
  ItalicFont= texgyrepagella-italic.otf ,
  BoldItalicFont = texgyrepagella-bolditalic.otf ]
  {texgyrepagella-regular.otf}
  % xits-math permet d'avoir un mathscr correct !
  \setmathfont{xits-math.otf}
\else
  \RequirePackage{hyperref}
  \RequirePackage[usenames,dvipsnames]{xcolor}
  \RequirePackage[utf8]{inputenc}
  \RequirePackage{aeguill}
  \RequirePackage{fourier}
  \RequirePackage{pst-all}
  %% package de la fonte mathscr
  \RequirePackage{mathrsfs}
  \RequirePackage{tikz}
\fi
\RequirePackage{tikz}
\RequirePackage{auto-pst-pdf}
%% symbole de degres
\RequirePackage{textcomp}
%% tests
\RequirePackage{ifthen}
%% permet des calculs aisés avec les notations habituelles
\RequirePackage{calc}
%% package de soulignement
\RequirePackage{ulem}
%% package de mise en forme de tableaux
\RequirePackage{array}
%% packages de multi-colonnes
\RequirePackage{multicol}
%% packages AMS-TEX
%%\RequirePackage{amsmath}
%%\RequirePackage{amssymb}
%% package de symboles (notammant l'euro)
\RequirePackage{eurosym}
%% gestion des espaces après macros
\RequirePackage{xspace}
%% packages fancy 
\RequirePackage{fancyhdr}
\RequirePackage{fancyvrb}
\RequirePackage{fancybox}
\setlength{\shadowsize}{2pt}
%% package numérotation des pages 1/n 2/n etc
\RequirePackage{lastpage}
%% pour l'env. boxedverbatim
\RequirePackage{moreverb}
%% pour des hline biens faites
\RequirePackage{hhline}
%% logo metapost
\RequirePackage{mflogo}
%% package de théorèmes
\RequirePackage{ntheorem}
%% package de francisation
\ifluatex
\RequirePackage{polyglossia}
\setmainlanguage{french}
\else
\RequirePackage[frenchb]{babel}
\fi
\RequirePackage[autolanguage]{numprint}
\ifluatex
\newcommand{\nombre}{\numprint}
\newcommand{\dfrac}{\displaystyle\frac}
\newcommand{\degres}{\textdegree}
\newcommand{\text}{\textrm}
\newcommand{\og}{«~}
\newcommand{\fg}{~»}
\newcommand{\ieme}{$^\textrm{e}\,$}
\newcommand{\no}{n\textsuperscript{o}}
\fi
%%
\def\maPScouleur{gray}
\newcommand{\macouleur}{\color{\maPScouleur}}
%
\RequirePackage{profNumDevoir}
\RequirePackage{profCitation}
\RequirePackage{profDivers}%%
\if@college
\RequirePackage{profCollege}
\else
\RequirePackage{profLycee}
\fi
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\endinput